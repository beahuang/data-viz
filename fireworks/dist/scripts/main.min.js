function setup(){createCanvas(windowWidth,windowHeight);background(0),frameRate(30),colorMode(HSB,360,100,100)}function draw(){background(0),blendMode(SCREEN);for(var i=0;i<particleArray.length;i++)particleArray[i].dead()?particleArray.splice(i,1):(particleArray[i].draw(),particleArray[i].update())}function windowResized(){resizeCanvas(windowWidth,windowHeight)}function drawFireworks(i,e){hue=random(0,360);for(var r=0;200>r;r++){pos=createVector(i,e),vel=createVector(0,1),vel.rotate(random(0,360)),vel.mult(random(1,5));var t=new Particle(pos,vel,hue);particleArray.push(t)}}function mouseClicked(){drawFireworks(mouseX,mouseY)}var particleArray=[],Particle=function(i,e,r){this.position=i.copy(),this.velocity=e.copy(),this.hue=r,this.size=random(5,15),this.lifeSpan=random(30,40),this.update=function(){this.lifeSpan--,this.position.add(e)},this.draw=function(){noStroke(),fill(r,random(r-15,r+15),random(r-15,r+15)),ellipse(this.position.x,this.position.y,this.size,this.size)},this.dead=function(){return this.lifeSpan<0?!0:!1}};